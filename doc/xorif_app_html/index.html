<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Xilinx O-RAN Radio Interface (XORIF): Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="html_custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xilinx O-RAN Radio Interface (XORIF)
   </div>
   <div id="projectbrief">Software Application (xorif-app)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Xilinx O-RAN Radio Interface (XORIF) Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>The xorif-app is an test/demo application, which uses the hardware device libraries (e.g. libxorif.so) to interface with the O-RAN Radio Interface IP core(s).</li>
<li>Prior to the 2022.2 release, the xorif-app application was a compiled executable. However, since the 2022.2 release a Python-based version of the application is also provided. There are some minor differences in how the legacy application and the Python application operate, but the fuctionality is more or less equivalent.</li>
<li>The xorif-app can operate as either a "server" or a "client".<ul>
<li>As a server, the xorif-app will provide a communication interface (via TCP/IP sockets) which will accept messages (e.g. from an xorif-app client).</li>
<li>As a client, the xorif-app can be use to connect with an xorif-app server. The client can operate in several modes, including "command line mode", "file mode" or "interactive".</li>
<li>Only the xorif-app server can communicate directly with the hardware device (via the device libraries).</li>
</ul>
</li>
</ul>
<h2>Building (Legacy Application)</h2>
<ul>
<li>The legacy xorif-app executable is built as part of the PetaLinux build, and can be found in the <code>/usr/bin/</code> directory of the target Linux installation.</li>
<li>It can also be built separately using an appropriate SDK including the cross-compilation tools and dependencies (e.g. libmetal library).<ul>
<li>Run: <code>make</code></li>
</ul>
</li>
<li>A client-only version of the xorif-app executable can also be be built on a host Linux system, using native compilation tools and without dependency on the libmetal library.<ul>
<li>Run: <code>make NO_HW=1</code></li>
</ul>
</li>
</ul>
<h2>Building (Python Application)</h2>
<ul>
<li>The Python xorif-app application is provided as part of the PetaLinux build, and can be found in the <code>/usr/bin/</code> directory of the target Linux installation.</li>
<li>Unlike the legacy xorif-app application, there are separate scripts for the server and client.<ul>
<li>The "server" is <code>xorif-app-server.py</code></li>
<li>The "client" is <code>xorif-app-client.py</code></li>
</ul>
</li>
<li>It is possible to run the client application on another host Linux system, although you will need to <code>pip install</code> a couple of Python packages (Pyro4 and CFFI)</li>
<li>The Python application requires a couple of Python packages to be installed, and requires Python 3.6.5 or greater.<ul>
<li>Run: <code>pip install Pyro4</code></li>
<li>Run: <code>pip install cffi</code></li>
</ul>
</li>
</ul>
<h2>Usage (Legacy Application)</h2>
<ul>
<li>Usage:</li>
</ul>
<div class="fragment"><div class="line">Usage: xorif-app [-c | -f &lt;file&gt; |-I | -s] [-n &lt;ip_addr&gt;] [-p &lt;port&gt;] [&lt;options&gt;] {<span class="stringliteral">&quot;&lt;command&gt; {&lt;arguments&gt;}&quot;</span>}</div>
<div class="line">        -h Show help</div>
<div class="line">        -c Client mode <span class="keyword">using</span> the command line</div>
<div class="line">        -f &lt;file&gt; Client mode <span class="keyword">using</span> the specified file</div>
<div class="line">        -I Client mode <span class="keyword">using</span> interactive input (type exit to leave)</div>
<div class="line">        -s Server mode (<span class="keywordflow">default</span>)</div>
<div class="line">        -n &lt;ip_addr&gt; Specified IP address (client mode only) (defaults to localhost)</div>
<div class="line">        -p &lt;port&gt; Specified port (defaults to 5001)</div>
<div class="line">        -b Disable banner on start</div>
<div class="line">        -i Auto-initialize (server mode only)</div>
<div class="line">        -v Verbose</div>
<div class="line">        -V Display version of the application</div>
<div class="line">        &lt;command&gt; {&lt;arguments&gt;} For command line mode only</div>
</div><!-- fragment --><ul>
<li>Server mode:<ul>
<li>Typical usage: <code>xorif-app -s</code></li>
<li>Use <code>-s</code> for server mode (note, this is the default and so not necessary in most cases)</li>
<li>Use <code>-p</code> to change the TCP/IP port number</li>
</ul>
</li>
<li>Client mode:<ul>
<li>Typical usage: <code>xorif-app -n 192.168.0.55</code></li>
<li>Use <code>-c</code> for "command-line mode" (runs commands specified on the command line, e.g. <code>xorif-app -c "get sw_version"</code>)</li>
<li>Use <code>-f</code> for "file mode" (runs commands specified in a text file, e.g. <code>xorif-app -f config.txt</code>)</li>
<li>Use <code>-I</code> for "interactive mode" (runs commands entered at a prompt, use "exit" to leave)</li>
<li>Use <code>-n</code> to set the IP address (default is the localhost, i.e. 127.0.0.1)</li>
<li>Use <code>-p</code> to change the TCP/IP port number</li>
</ul>
</li>
<li>Note on server/client ports<ul>
<li>It is important that the xorif-app server and client are using the same port number to communicate</li>
<li>The xorif-app server will not start if the specified port is not available (e.g. in use by another application). In this case, an error is also displayed. Either close/kill the other xorif-app server, or select a different port number to continue.</li>
</ul>
</li>
</ul>
<h2>Usage (Python Application)</h2>
<ul>
<li>Usage:</li>
</ul>
<div class="fragment"><div class="line">usage: xorif-app-server [-h] [-V] [-v VERBOSE] [-N NET] [-P PORT] [--fhi]</div>
<div class="line">                        [--no-fhi] [--ocp] [--no-ocp] [--oprach] [--no-oprach]</div>
<div class="line"></div>
<div class="line">Python O-RAN Radio Interface server</div>
<div class="line"></div>
<div class="line">optional arguments:</div>
<div class="line">  -h, --help            show <span class="keyword">this</span> help message and exit</div>
<div class="line">  -V, --Version         show program<span class="stringliteral">&#39;s version number and exit</span></div>
<div class="line"><span class="stringliteral">  -v VERBOSE, --verbose VERBOSE</span></div>
<div class="line"><span class="stringliteral">                        set verbosity level (0 = quiet, 1 = normal, 2 = high)</span></div>
<div class="line"><span class="stringliteral">  -N NET, --net NET     Network device to use for IP address (default is</span></div>
<div class="line"><span class="stringliteral">                        localhost IP address))</span></div>
<div class="line"><span class="stringliteral">  -P PORT, --port PORT  port number (default is 9090)</span></div>
<div class="line"><span class="stringliteral">  --fhi                 with FHI support (default is yes)</span></div>
<div class="line"><span class="stringliteral">  --no-fhi              without FHI support</span></div>
<div class="line"><span class="stringliteral">  --ocp                 with OCP support (default is yes)</span></div>
<div class="line"><span class="stringliteral">  --no-ocp              without OCP support</span></div>
<div class="line"><span class="stringliteral">  --oprach              with OPRACH support (default is no)</span></div>
<div class="line"><span class="stringliteral">  --no-oprach           without OPRACH support</span></div>
</div><!-- fragment --><div class="fragment"><div class="line">usage: xorif-app-client [-h] [-V] [-v VERBOSE] [-H HOST] [-P PORT] [-I]</div>
<div class="line">                        [-f FILE [FILE ...]] [-c CMD [CMD ...]]</div>
<div class="line"></div>
<div class="line">Python O-RAN Radio Interface client</div>
<div class="line"></div>
<div class="line">optional arguments:</div>
<div class="line">  -h, --help            show <span class="keyword">this</span> help message and exit</div>
<div class="line">  -V, --Version         show program<span class="stringliteral">&#39;s version number and exit</span></div>
<div class="line"><span class="stringliteral">  -v VERBOSE, --verbose VERBOSE</span></div>
<div class="line"><span class="stringliteral">                        set verbosity level (0 = quiet, 1 = normal, 2 = high)</span></div>
<div class="line"><span class="stringliteral">  -H HOST, --host HOST  IP address (default is localhost)</span></div>
<div class="line"><span class="stringliteral">  -P PORT, --port PORT  port number (default is 9090)</span></div>
<div class="line"><span class="stringliteral">  -I, --interactive     process commands in interactive mode</span></div>
<div class="line"><span class="stringliteral">  -f FILE [FILE ...], --file FILE [FILE ...]</span></div>
<div class="line"><span class="stringliteral">                        process commands from file</span></div>
<div class="line"><span class="stringliteral">  -c CMD [CMD ...], --cmd CMD [CMD ...]</span></div>
<div class="line"><span class="stringliteral">                        process command directly</span></div>
</div><!-- fragment --><ul>
<li>Server:<ul>
<li>Typical usage: <code>xorif-app-server.py</code></li>
<li>Typical usage: <code>xorif-app-server.py -N eth0 -P 9090</code></li>
<li>Use <code>-N</code> or <code>--net</code> to select the network device used for determining the IP address (default is to use localhost IP address, i.e. 127.0.0.1)</li>
<li>Use <code>-P</code> or <code>--port</code> to set the TCP/IP port number</li>
</ul>
</li>
<li>Client:<ul>
<li>Typical usage: <code>xorif-app-client.py -c "init"</code></li>
<li>Typical usage: <code>xorif-app-client.py -c "debug 2"</code></li>
<li>Typical usage: <code>xorif-app-client.py -f test_100mhz_1cc.config</code></li>
<li>Typical usage: <code>xorif-app-client.py -H 192.168.10.10 -P 9090 -f test_100mhz_1cc.config</code></li>
<li>Use <code>-H</code> or <code>--host</code> to set the IP address (default is the localhost, i.e. 127.0.0.1)</li>
<li>Use <code>-P</code> or <code>--port</code> to set the TCP/IP port number</li>
<li>The verbosity can be set by the <code>-v</code> option. The default is to display errors and warnings only</li>
</ul>
</li>
<li>Note on server/client ports<ul>
<li>It is important that the xorif-app server and client are using the same port number to communicate</li>
<li>The xorif-app server will not start if the specified port is not available (e.g. in use by another xorif-app instance). In this case, an error is also displayed. Either close/kill the other xorif-app server, or select a different port number to continue.</li>
<li>The default IP address used is the localhost. However, when using localhost, the server only accepts client connections from the localhost. If you want to connect from a remote system, then you should specify the actual IP address. You can do this by specifying a network device on the server with the <code>--net</code> / <code>-N</code> option, and the IP address on the client with the <code>--host</code> / <code>-H</code> option.</li>
</ul>
</li>
</ul>
<h2>Command-Line Mode</h2>
<ul>
<li>This mode allows basic configuration and interaction with the system using the xorif-app command line.</li>
<li>Usage:<ul>
<li>Ensure that an instance of the xorif-app "server" is running on the target hardware, e.g. <code>xorif-app -s</code> or <code>xorif-app-server.py</code></li>
<li>Start the xorif-app "client" (optionally specifying the IP address and port number of the "server" if needed) and the required command to execute, e.g. <code>xorif-app -c "get sw_version"</code> or <code>xorif-app-client.py -c "get sw_version"</code></li>
<li>Note, because of the way command line arguments are handled, multi-word commands should be enclosed in quotes.</li>
</ul>
</li>
<li>It is also possible to send multiple commands on the same command line, e.g. <code>xorif-app -c "get sw_version" "get fhi_hw_version"</code> or <code>xorif-app-client.py -c "get sw_version" "get fhi_hw_version"</code></li>
<li>See the section below on "Command Syntax" for details of the command syntax.</li>
</ul>
<h2>Interactive Mode</h2>
<ul>
<li>This mode allows commands to be entered at a prompt, similar to the "command line mode".</li>
<li>Usage:<ul>
<li>Ensure that an instance of the xorif-app "server" is running on the target hardware, e.g. <code>xorif-app -s</code> or <code>xorif-app-server.py</code></li>
<li>Start the xorif-app "client" in interactive mode (optionally specifying the IP address and port number of the "server" if needed), i.e. <code>xorif-app -I</code> or <code>xorif-app-client.py -I</code></li>
<li>Enter desired commands at the prompt</li>
<li>Enter "exit" (or Ctrl-C) to leave interactive mode</li>
</ul>
</li>
<li>See the section below on "Command Syntax" for details of the command syntax.</li>
</ul>
<h2>Command Syntax</h2>
<ul>
<li>The xorif-app provides basic help on the available commands and command syntax.</li>
<li>Run <code>xorif-app -c help</code> or <code>xorif-app-client.py -c help</code> for available commands.</li>
</ul>
<div class="fragment"><div class="line">Available commands...</div>
<div class="line">    activate            : Activate HW, transitioning to operational state</div>
<div class="line">    clear               : Clear various status, alarms, etc.</div>
<div class="line">    configure           : Program component carrier configuration</div>
<div class="line">    deactivate          : Deactivate HW, transitioning to initialized state</div>
<div class="line">    debug               : Set debugging level</div>
<div class="line">    devices             : List devices accessible as Pyro proxies</div>
<div class="line">    disable             : Disable component carrier</div>
<div class="line">    dump                : Dump debug information</div>
<div class="line">    enable              : Enable component carrier</div>
<div class="line">    exit                : Exit the client script / interactive session</div>
<div class="line">    finish              : Close-down device driver libraries</div>
<div class="line">    <span class="keyword">get</span>                 : Get various configuration and status data from a device</div>
<div class="line">    has                 : Check <span class="keywordflow">for</span> the presence of a device</div>
<div class="line">    help                : Provide command help and syntax</div>
<div class="line">    init                : Start-up device driver libraries</div>
<div class="line">    monitor             : Configure / use monitor block</div>
<div class="line">    read_reg            : Read device registers</div>
<div class="line">    read_reg_offset     : Read device registers (with offsets)</div>
<div class="line">    reset               : Reset devices</div>
<div class="line">    run                 : Run a command file</div>
<div class="line">    set                 : Set various configuration data <span class="keywordflow">for</span> device</div>
<div class="line">    slv                 : SLV test commands</div>
<div class="line">    terminate           : Terminate server</div>
<div class="line">    trigger             : Trigger HW update, e.g. causing update from <span class="stringliteral">&#39;current&#39;</span> to <span class="stringliteral">&#39;next&#39;</span></div>
<div class="line">    version             : Display version of the application</div>
<div class="line">    wait                : Wait <span class="keywordflow">for</span> a <span class="keywordtype">short</span> time</div>
<div class="line">    write_reg           : Write device registers</div>
<div class="line">    write_reg_offset    : Write device registers (with offsets)</div>
</div><!-- fragment --><ul>
<li>Run <code>xorif-app -c "help \&lt;topic\&gt;"</code> o <code>xorif-app-client.py -c "help \&lt;topic\&gt;"</code> for help on a particular topic, e.g.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">get</span> : Get various configuration and status data from a device</div>
<div class="line">  usage: <span class="keyword">get</span> (fhi_sw_version | fhi_hw_version | fhi_hw_internal_rev)</div>
<div class="line">  usage: <span class="keyword">get</span> (fhi_capabilities | fhi_caps)</div>
<div class="line">  usage: <span class="keyword">get</span> fhi_cc_config &lt;cc&gt;</div>
<div class="line">  usage: <span class="keyword">get</span> fhi_cc_alloc &lt;cc&gt;</div>
<div class="line">  usage: <span class="keyword">get</span> fhi_stats &lt;port&gt;</div>
<div class="line">  usage: <span class="keyword">get</span> (fhi_alarms | fhi_state | fhi_enabled)</div>
<div class="line">  ...</div>
</div><!-- fragment --><ul>
<li>When executing a command, the app will echo the command and it's returned status, e.g. <code>set num_rbs 0 275 =&gt; status = 0</code><ul>
<li>Status value of 0 means good/pass and any non-zero value is an error code</li>
<li>Refer to the library's API header file (e.g. <code>xorif_api.h</code>) for a list of error codes</li>
</ul>
</li>
<li>Some commands also provide additional information, for example...</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">get</span> fhi_caps =&gt; status = 0</div>
<div class="line">max_cc = 8</div>
<div class="line">num_eth_ports = 4</div>
<div class="line">numerologies = 0x1F</div>
<div class="line">extended_cp = <span class="keyword">false</span></div>
<div class="line">iq_de_comp_methods = 0x13</div>
<div class="line">iq_de_comp_bfp_widths = 0x5200</div>
<div class="line">iq_de_comp_mod_widths = 0x3E</div>
<div class="line">iq_comp_methods = 0x3</div>
<div class="line">iq_comp_bfp_widths = 0x5200</div>
<div class="line">no_framer_ss = 8</div>
<div class="line">no_deframer_ss = 16</div>
<div class="line">max_framer_ethernet_pkt = 8000</div>
<div class="line">max_deframer_ethernet_pkt = 8000</div>
<div class="line">max_subcarriers = 6600</div>
<div class="line">max_data_symbols = 8</div>
<div class="line">max_ctrl_symbols = 16</div>
<div class="line">max_ul_ctrl_1kwords = 4</div>
<div class="line">max_dl_ctrl_1kwords = 4</div>
<div class="line">max_dl_data_1kwords = 8</div>
<div class="line">max_ssb_ctrl_512words = 1</div>
<div class="line">max_ssb_data_512words = 2</div>
<div class="line">timer_clk_ps = 5000</div>
<div class="line">num_unsolicited_ports = 1</div>
<div class="line">du_id_limit = 4</div>
<div class="line">bs_id_limit = 6</div>
<div class="line">cc_id_limit = 3</div>
<div class="line">ru_id_limit = 8</div>
<div class="line">ss_id_limit = 5</div>
<div class="line">ru_ports_map_width = 8</div>
</div><!-- fragment --><ul>
<li>Many of the commands map directly on to the library API calls. Others, such as "help" and "exit" are handled locally.</li>
<li>The xorif-app commands also allow the user to read/write device registers directly.</li>
</ul>
<h2>File Mode</h2>
<ul>
<li>This mode allows basic configuration and interaction with the system using a text file.</li>
<li>Usage:<ul>
<li>Ensure that an instance of the xorif-app "server" is running on the target hardware, e.g. <code>xorif-app -s</code> or <code>xorif-app-server.py</code></li>
<li>Start the xorif-app "client" (optionally specifying the IP address and port number of the "server" if needed) and the required file to process, e.g. <code>xorif-app -f config1.txt</code> or <code>xorif-app-client.py -f config.txt</code></li>
</ul>
</li>
<li>File format:<ul>
<li>A plain text file</li>
<li>A maximum of one command per line</li>
<li>Line breaks in the middle of commands are not permitted</li>
<li>Blank lines are skipped</li>
<li>Hash characters ("#") can be used to provide comment lines in the file (everything after the "#" is skipped)</li>
<li>Command syntax is the same as described previously</li>
</ul>
</li>
<li>Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Initialize library</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Check versions</span></div>
<div class="line"><span class="preprocessor"></span><span class="keyword">get</span> sw_version</div>
<div class="line"><span class="keyword">get</span> fhi_hw_version</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Configure CC[0] num_rbs=275, numerology=1</span></div>
<div class="line"><span class="preprocessor"></span>set num_rbs 0 275</div>
<div class="line">set numerology 0 1 0</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">set dl_iq_compression 0 9 1 1</div>
<div class="line">set ul_iq_compression 0 9 1 1</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Configure CC[1] num_rbs=100, numerology=0</span></div>
<div class="line"><span class="preprocessor"></span>set num_rbs 1 100</div>
<div class="line">set numerology 1 0 0</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">set dl_iq_compression 1 9 1 1</div>
<div class="line">set ul_iq_compression 1 9 1 1</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
</div><!-- fragment --><ul>
<li>Example file (output):</li>
</ul>
<div class="fragment"><div class="line">init =&gt; status = 0</div>
<div class="line">reset =&gt; status = 0</div>
<div class="line"><span class="keyword">get</span> sw_version =&gt; status = 0</div>
<div class="line">fhi_version = 0x01010002</div>
<div class="line"><span class="keyword">get</span> fhi_hw_version =&gt; status = 0</div>
<div class="line">result = 0x01010002</div>
<div class="line">set num_rbs 0 275 =&gt; status = 0</div>
<div class="line">set numerology 0 1 0 =&gt; status = 0</div>
<div class="line">set time_advance 0 30 90 90 =&gt; status = 0</div>
<div class="line">set dl_iq_compression 0 9 1 1 =&gt; status = 0</div>
<div class="line">set ul_iq_compression 0 9 1 1 =&gt; status = 0</div>
<div class="line">configure 0 =&gt; status = 0</div>
<div class="line">enable 0 =&gt; status = 0</div>
<div class="line">set num_rbs 1 100 =&gt; status = 0</div>
<div class="line">set numerology 1 0 0 =&gt; status = 0</div>
<div class="line">set time_advance 1 30 90 90 =&gt; status = 0</div>
<div class="line">set dl_iq_compression 1 9 1 1 =&gt; status = 0</div>
<div class="line">set ul_iq_compression 1 9 1 1 =&gt; status = 0</div>
<div class="line">configure 1 =&gt; status = 0</div>
<div class="line">enable 1 =&gt; status = 0</div>
</div><!-- fragment --><h2>File Mode Simple Starter and PG370 examples</h2>
<ul>
<li>Simple uncompressed data example (input):<ul>
<li>This is a good configuration to get started with:</li>
<li>Limit to one Component Carrier, 1 Spatial Stream and a limited number of RB'S.</li>
<li>Compared to the detail in the PG370, using the API removes the need to manually program these registers.</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 0 0</div>
<div class="line">set num_rbs 0 20</div>
<div class="line">set ul_iq_compression 0 0 0</div>
<div class="line">set dl_iq_compression 0 0 0</div>
<div class="line">set time_advance 0 160 100 100</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
</div><!-- fragment --><ul>
<li>PG370 "Configuring the Core" Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 1 0</div>
<div class="line">set num_rbs 0 275</div>
<div class="line">set ul_iq_compression 0 9 1</div>
<div class="line">set dl_iq_compression 0 9 1</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 1</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 1 1 0</div>
<div class="line">set num_rbs 1 275</div>
<div class="line">set ul_iq_compression 1 9 1</div>
<div class="line">set dl_iq_compression 1 9 1</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
</div><!-- fragment --><ul>
<li>PG370 "Reconfiguring the Core" Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 0 0</div>
<div class="line">set num_rbs 0 275</div>
<div class="line">set ul_iq_compression 0 9 1 1</div>
<div class="line">set dl_iq_compression 0 9 1 1</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 1</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 1 1 0</div>
<div class="line">set num_rbs 1 137</div>
<div class="line">set ul_iq_compression 1 9 1 1</div>
<div class="line">set dl_iq_compression 1 9 1 1</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">## Component carrier 2</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 2 1 0</div>
<div class="line">set num_rbs 2 137</div>
<div class="line">set ul_iq_compression 2 9 1 1</div>
<div class="line">set dl_iq_compression 2 9 1 1</div>
<div class="line">set time_advance 2 30 90 90</div>
<div class="line">configure 2</div>
<div class="line">enable 2</div>
</div><!-- fragment --><h2>Debug Mode</h2>
<ul>
<li>The "debug" command can be used to enable library's "trace" feature<ul>
<li>Level 0: No trace, but errors are still reported</li>
<li>Level 1: The trace feature shows main API calls and register read/writes</li>
<li>Level 2: The trace feature shows debug extra information in addition to the main API calls and register read/writes</li>
</ul>
</li>
<li>This can be a very useful feature for debugging or checking the component carrier configurations. For example...</li>
</ul>
<div class="fragment"><div class="line">LIBXORIF&gt; xorif_set_cc_numerology(0, 0, 0)</div>
<div class="line">set numerology 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_num_rbs(0, 20)</div>
<div class="line">set num_rbs 0 20 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_ul_iq_compression(0, 0, 0, 1)</div>
<div class="line">set ul_iq_compression 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_dl_iq_compression(0, 0, 0, 1)</div>
<div class="line">set dl_iq_compression 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_time_advance(0, 160, 100, 100)</div>
<div class="line">set time_advance 0 160 100 100 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_configure_cc(0)</div>
<div class="line">LIBXORIF&gt; READ_REG: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; READ_REG: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; DEBUG: Configuration valid</div>
<div class="line">LIBXORIF&gt; READ_REG: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_ENABLE (0xE004)[0:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_NUMRBS (0xE100)[0:8] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_NUMEROLOGY (0xE100)[16:18] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SYMPERSLOT (0xE100)[24:24] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_NUMRBS (0xE900)[0:8] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_NUMEROLOGY (0xE900)[16:18] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_SYMPERSLOT (0xE900)[24:24] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_SYM_NUM_INDEX (0xE114)[8:13] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_SYM_START_INDEX (0xE114)[0:5] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_CTRL_SYM_NUM_INDEX (0xE114)[16:21] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_CTRL_SYM_NUM_INDEX (0xE114)[24:29] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_NUM_DATA_SYM_PER_CC (0xE914)[8:13] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_DATA_SYM_START_INDEX (0xE914)[0:5] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_NUM_SYM_PER_CC (0xE914)[16:21] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_UD_IQ_WIDTH (0xE11C)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_UD_COMP_METH (0xE11C)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_MPLANE_UDCOMP_PARAM (0xE11C)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_UD_IQ_WIDTH (0xE118)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_UD_COMP_METH (0xE118)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_MPLANE_UDCOMP_PARAM (0xE118)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_UD_IQ_WIDTH (0xE91C)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_UD_COMP_METH (0xE91C)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_MPLANE_UDCOMP_PARAM (0xE91C)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_PRACH_UD_IQ_WIDTH (0xE920)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_PRACH_UD_COMP_METH (0xE920)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_PRACH_MPLANE_UDCOMP_PARAM (0xE920)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_NUM_CTRL_PER_SYMBOL_DL (0xE160)[0:15] &lt;= 0x40 (64)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_CTRL_OFFSETS (0xE104)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_NUM_CTRL_PER_SYMBOL_UL (0xE164)[0:15] &lt;= 0x40 (64)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_CTRL_OFFSETS (0xE10C)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_BASE_OFFSET (0xE140)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_NUMSSBCTRLSECT_X_SYM_X_CC (0xE960)[0:15] &lt;= 0x5 (5)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_CTRL_OFFSETS (0xE904)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE500)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE504)[0:15] &lt;= 0xAD (173)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE508)[0:15] &lt;= 0x15A (346)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE50C)[0:15] &lt;= 0x207 (519)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED00)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED04)[0:15] &lt;= 0x7F (127)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED08)[0:15] &lt;= 0xFE (254)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED0C)[0:15] &lt;= 0x17D (381)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_MODVALS_DL (0xE168)[0:15] &lt;= 0x100 (256)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_MODVALS_UL (0xE16C)[0:15] &lt;= 0x100 (256)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_SECTS_X_SYMBOLS (0xE968)[0:15] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_SETUP_D_CYCLES (0xE138)[0:16] &lt;= 0x33E5 (13285)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_SETUP_C_CYCLES (0xE134)[0:16] &lt;= 0x1D92 (7570)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_DL_SETUP_C_ABS_SYMBOL (0xE130)[0:11] &lt;= 0x2 (2)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_SETUP_D_CYCLES (0xE128)[0:16] &lt;= 0x37CD (14285)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_SETUP_C_CYCLES (0xE124)[0:16] &lt;= 0xA0A (2570)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_SETUP_C_ABS_SYMBOL (0xE120)[0:11] &lt;= 0x3 (3)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_SETUP_D_CYCLES (0xE938)[0:16] &lt;= 0x33E5 (13285)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_SETUP_C_CYCLES (0xE934)[0:16] &lt;= 0x1D92 (7570)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_SSB_SETUP_C_ABS_SYMBOL (0xE930)[0:11] &lt;= 0x2 (2)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_BIDF_C_CYCLES (0xE148)[0:16] &lt;= 0x11DA (4570)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_UL_BIDF_C_ABS_SYMBOL (0xE144)[0:11] &lt;= 0x3 (3)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_RELOAD (0xE000)[0:7] &lt;= 0x1 (1)</div>
<div class="line">configure 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_enable_cc(0)</div>
<div class="line">LIBXORIF&gt; READ_REG: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; WRITE_REG: ORAN_CC_ENABLE (0xE004)[0:7] &lt;= 0x1 (1)</div>
<div class="line">enable 0 =&gt; status = 0</div>
</div><!-- fragment --> <hr/>
<p>Copyright (C) 2019 - 2022 Advanced Micro Devices, Inc. All rights reserved. </p>
</div></div><!-- contents -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2022 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
