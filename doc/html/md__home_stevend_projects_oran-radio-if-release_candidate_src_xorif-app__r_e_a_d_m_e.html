<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ORAN-RADIO-IF: XORIF-APP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="html_custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ORAN-RADIO-IF
   </div>
   <div id="projectbrief">ORAN Radio Interface Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">XORIF-APP </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>XORIF-APP Source Directory</h2>
<ul>
<li>This directory contains the source files and Makefile for the ORAN-Radio-Interface Example Application (xorif-app)</li>
<li>The xorif-app is an example application, which uses the libxorif library to interface with the Front Haul Interface and Beam-Former hardware. The xorif-app also demonstrates the handling of some eCPRI management messages, such as OWDM (One-Way Delay Measurement).</li>
<li>The xorif-app can operate as either a "server" or a "client".<ul>
<li>As a server, the xorif-app will provide a communication interface (via TCP/IP sockets) which will accept messages (e.g. from an xorif-app client).</li>
<li>As a client, the xorif-app can be use to connect with an xorif-app server. The client can operate in several modes, including "command line mode" or "file mode".</li>
<li>Only the xorif-app in "server mode" can communicate directly with the h/w (via the libxorif and libxobf C libraries).</li>
</ul>
</li>
</ul>
<h3>Building</h3>
<ul>
<li>The xorif-app executable is built as part of the PetaLinux build system, and can be found in the <code>/usr/bin/</code> directory of the target Linux installation.</li>
<li>It can also be built separately using an appropriate SDK including the cross-compilation tools and dependencies (e.g. libmetal library).<ul>
<li>Run: <code>make</code></li>
</ul>
</li>
<li>A client-only version of the xorif-app executable can also be be built on a host Linux system, using native compilation tools and without dependency on the libmetal library.<ul>
<li>Run: <code>make NO_HW=1</code></li>
</ul>
</li>
</ul>
<h3>Usage</h3>
<div class="fragment"><div class="line">Usage: [-bhv] [-c | -f &lt;file&gt; | -s] [-n &lt;ip_addr&gt;] [-p &lt;port&gt;] [-e &lt;device&gt;] {<span class="stringliteral">&quot;&lt;command&gt; {&lt;arguments&gt;}&quot;</span>}</div>
<div class="line">        -b Disable banner</div>
<div class="line">        -c Client mode <span class="keyword">using</span> the command line</div>
<div class="line">        -e &lt;device&gt; Specified ethernet device (<span class="keywordflow">default</span> eth0)</div>
<div class="line">        -f &lt;file&gt; Client mode <span class="keyword">using</span> the specified file</div>
<div class="line">        -h Show help</div>
<div class="line">        -n &lt;ip_addr&gt; Specified IP address (<span class="keywordflow">for</span> client mode) (defaults to localhost)</div>
<div class="line">        -p &lt;port&gt; Specified port (defaults to 5001)</div>
<div class="line">        -s Server mode (<span class="keywordflow">default</span>)</div>
<div class="line">        -v Verbose</div>
<div class="line">        &lt;command&gt; {&lt;arguments&gt;} For command line mode only</div>
</div><!-- fragment --><ul>
<li>Server mode:<ul>
<li>Typical usage: <code>xorif-app -s</code></li>
<li>Use <code>-s</code> for server mode (note, this is the default and so not necessary in most cases)</li>
<li>Use <code>-p</code> to change the TCP/IP port number</li>
<li>Use <code>-e</code> to change the ethernet device name (when using time-stamping)</li>
</ul>
</li>
<li>Client mode:<ul>
<li>Typical usage: <code>xorif-app -n 192.168.0.55 ...</code></li>
<li>Use <code>-c</code> for "command-line mode" (runs commands specified on the command line, e.g. <code>xorif-app -c "get sw_version"</code>)</li>
<li>Use <code>-f</code> for "file mode" (runs commands specified in a text file, e.g. <code>xorif-app -f config.txt</code>)</li>
<li>Use <code>-n</code> to set the IP address (default is the localhost, i.e. 127.0.0.1)</li>
<li>Use <code>-p</code> to change the TCP/IP port number</li>
<li>The xorif-app server needs to be initialized before , so first time: <code>xorif-app -c "init"</code></li>
</ul>
</li>
</ul>
<h3>Command-Line Mode</h3>
<ul>
<li>This mode allows basic configuration and interaction with the system using the xorif-app command line.</li>
<li>Usage:<ul>
<li>Ensure that an instance of the xorif-app "server" is running on the target hardware, e.g. <code>xorif-app -s</code></li>
<li>Issue a command using the xorif-app "client" (optionally specifying the IP address and port number of the "server" if needed) and the required command e.g. <code>xorif-app -n 192.168.0.55 -c "get sw_version"</code>.</li>
</ul>
</li>
<li>It is also possible to send multiple commands on the same command line. Because of the way command line arguments are handled, each command should be enclosed in quotes, e.g. <code>xorif-app -n 192.168.0.55 -c "get sw_version" "get fhi_hw_version"</code>.</li>
<li>See the section below on "Command Syntax" for details of the command syntax.</li>
</ul>
<h3>Command Syntax</h3>
<div class="fragment"><div class="line">help : help [&lt;topic&gt;]</div>
<div class="line">debug : debug &lt;level = 0..2&gt;</div>
<div class="line">init : init [fhi | bf] [&lt;device_name&gt;]</div>
<div class="line">finish : finish [fhi | bf]</div>
<div class="line"><span class="keyword">get</span> : <span class="keyword">get</span>...</div>
<div class="line">        <span class="keyword">get</span> fhi_sw_version</div>
<div class="line">        <span class="keyword">get</span> fhi_hw_version</div>
<div class="line">        <span class="keyword">get</span> fhi_hw_internal_rev</div>
<div class="line">        <span class="keyword">get</span> [fhi_capabilities | fhi_caps]</div>
<div class="line">        <span class="keyword">get</span> fhi_cc_config &lt;cc&gt;</div>
<div class="line">        <span class="keyword">get</span> fhi_cc_alloc &lt;cc&gt;</div>
<div class="line">        <span class="keyword">get</span> fhi_stats &lt;port&gt;</div>
<div class="line">        <span class="keyword">get</span> fhi_alarms</div>
<div class="line">        <span class="keyword">get</span> fhi_state</div>
<div class="line">        <span class="keyword">get</span> fhi_enabled</div>
<div class="line">        <span class="keyword">get</span> bf_sw_version</div>
<div class="line">        <span class="keyword">get</span> bf_hw_version</div>
<div class="line">        <span class="keyword">get</span> bf_hw_internal_rev</div>
<div class="line">        <span class="keyword">get</span> [bf_capabilities | bf_caps]</div>
<div class="line">        <span class="keyword">get</span> bf_cc_config &lt;cc&gt;</div>
<div class="line">        <span class="keyword">get</span> bf_cc_alloc &lt;cc&gt;</div>
<div class="line">        <span class="keyword">get</span> bf_stats</div>
<div class="line">        <span class="keyword">get</span> bf_alarms</div>
<div class="line">        <span class="keyword">get</span> bf_state</div>
<div class="line">        <span class="keyword">get</span> bf_enabled</div>
<div class="line">set : set...</div>
<div class="line">        set num_rbs &lt;cc&gt; &lt;number_of_rbs&gt;</div>
<div class="line">        set numerology &lt;cc&gt; &lt;numerology&gt; &lt;extended_cp = 0 | 1&gt;</div>
<div class="line">        set numerology_ssb &lt;cc&gt; &lt;numerology&gt; &lt;extended_cp = 0 | 1&gt;</div>
<div class="line">        set time_advance &lt;cc&gt; &lt;deskew&gt; &lt;advance_uplink&gt; &lt;advance_downlink&gt;</div>
<div class="line">        set ul_bid_forward &lt;cc&gt; &lt;advance&gt;</div>
<div class="line">        set ul_bid_forward_fine &lt;cc&gt; &lt;symbols&gt; &lt;cycles&gt;</div>
<div class="line">        set [dl_iq_compression | dl_iq_comp] &lt;cc&gt; &lt;width&gt; &lt;method&gt; &lt;mplane = 0 | 1&gt;</div>
<div class="line">        set [ul_iq_compression | ul_iq_comp] &lt;cc&gt; &lt;width&gt; &lt;method&gt; &lt;mplane = 0 | 1&gt;</div>
<div class="line">        set [ssb_iq_compression | ssb_iq_comp] &lt;cc&gt; &lt;width&gt; &lt;method&gt; &lt;mplane = 0 | 1&gt;</div>
<div class="line">        set [prach_iq_compression | prach_iq_comp] &lt;cc&gt; &lt;width&gt; &lt;method&gt; &lt;mplane = 0 | 1&gt;</div>
<div class="line">        set dl_sections_per_sym &lt;cc&gt; &lt;number_of_sections&gt;</div>
<div class="line">        set ul_sections_per_sym &lt;cc&gt; &lt;number_of_sections&gt;</div>
<div class="line">        set ssb_sections_per_sym &lt;cc&gt; &lt;number_of_sections&gt;</div>
<div class="line">        set frames_per_sym &lt;cc&gt; &lt;number_of_frames&gt;</div>
<div class="line">        set frames_per_sym_ssb &lt;cc&gt; &lt;number_of_frames&gt;</div>
<div class="line">        set dest_mac_addr &lt;port&gt; &lt;address&gt;</div>
<div class="line">        set src_mac_addr &lt;port&gt; &lt;address&gt;</div>
<div class="line">        set protocol &lt;ECPRI | 1914.3&gt; &lt;VLAN = 0 | 1&gt; &lt;RAW | IPv4 | IPv6&gt;</div>
<div class="line">        set vlan &lt;port&gt; &lt;<span class="keywordtype">id</span>&gt; &lt;dei&gt; &lt;pcp&gt;</div>
<div class="line">        set eaxc_id &lt;DU bits&gt; &lt;BS bits&gt; &lt;CC bits&gt; &lt;RU bits&gt;</div>
<div class="line">        set ru_ports &lt;RU bits&gt; &lt;ss bits&gt; &lt;mask&gt; &lt;user_value&gt; &lt;prach_value&gt; &lt;ssb_value&gt;</div>
<div class="line">        set fhi_enabled &lt;mask&gt;</div>
<div class="line">        set [bw_compression | bw_comp] &lt;cc&gt; &lt;width&gt; &lt;method&gt;</div>
<div class="line">        set bf_enabled &lt;mask&gt;</div>
<div class="line">reset : reset [fhi | bf] &lt;mode&gt;</div>
<div class="line">clear : clear [fhi_alarms | fhi_stats | bf_alarms | bf_stats]</div>
<div class="line">has : has [fhi | bf]</div>
<div class="line">configure : configure [fhi | bf] &lt;cc&gt;</div>
<div class="line">enable : enable [fhi | bf] &lt;cc&gt;</div>
<div class="line">disable : disable [fhi | bf] &lt;cc&gt;</div>
<div class="line">schedule_bf : schedule_bf</div>
<div class="line">load : load [beam_weights | prach_config] &lt;file&gt;</div>
<div class="line"><a class="code" href="group__libxorif.html#ga7b0f8380bc99c72db2fd626ed8ea3514">read_reg</a> : <a class="code" href="group__libxorif.html#ga7b0f8380bc99c72db2fd626ed8ea3514">read_reg</a> [fhi | bf] &lt;name&gt;</div>
<div class="line">read_reg_offset : read_reg_offset [fhi | bf] &lt;name&gt; &lt;offset&gt;</div>
<div class="line"><a class="code" href="group__libxorif.html#ga94282581679146b50f8f9e87adf81944">write_reg</a> : <a class="code" href="group__libxorif.html#ga94282581679146b50f8f9e87adf81944">write_reg</a> [fhi | bf] &lt;name&gt; &lt;value&gt;</div>
<div class="line">write_reg_offset : write_reg_offset [fhi | bf] &lt;name&gt; &lt;offset&gt; &lt;value&gt;</div>
<div class="line">ecpri : (Use <span class="stringliteral">&#39;ecpri help&#39;</span> <span class="keywordflow">for</span> additional help and usage information)</div>
<div class="line">peek : peek &lt;address&gt;</div>
<div class="line">poke : poke &lt;address&gt; &lt;value&gt;</div>
<div class="line">quit : quit</div>
</div><!-- fragment --><ul>
<li>When executing a command, the app will echo the command and it's returned status, e.g. <code>set num_rbs 0 275 =&gt; status = 0</code><ul>
<li>Status value of 0 means good/pass and any non-zero value is an error code</li>
<li>Refer to the libxorif header file <code><a class="el" href="xorif__api_8h.html" title="Main header file for the Xilinx ORAN Radio Interface (libxorif). ">xorif_api.h</a></code> for a list of error codes</li>
</ul>
</li>
<li>The xorif-app server needs to be initialized before it can correctly accept most commands<ul>
<li>This can be done by sending the "init" command, e.g. <code>xorif-app -c "init"</code></li>
<li>Note, the xorif-app server only needs to be initialized once (after starting, or after sending a the "finish" command). However, sending "init" multiple times is not a problem, and it will be ignored by the server.</li>
<li>The xorif-app will attempt to deduce the device name itself from the available platform devices. However, it can also be specified explicitly, e.g. <code>xorif-app -c "init fhi a0000000.oran_radio_if"</code>.</li>
</ul>
</li>
<li>Some commands also provide additional information, for example...</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">get</span> fhi_caps =&gt; status = 0</div>
<div class="line">max_cc = 8</div>
<div class="line">num_eth_ports = 4</div>
<div class="line">numerologies = 0x1F</div>
<div class="line">extended_cp = <span class="keyword">false</span></div>
<div class="line">iq_de_comp_methods = 0x13</div>
<div class="line">iq_de_comp_bfp_widths = 0x5200</div>
<div class="line">iq_de_comp_mod_widths = 0x3E</div>
<div class="line">iq_comp_methods = 0x3</div>
<div class="line">iq_comp_bfp_widths = 0x5200</div>
<div class="line">no_framer_ss = 8</div>
<div class="line">no_deframer_ss = 16</div>
<div class="line">max_framer_ethernet_pkt = 8000</div>
<div class="line">max_deframer_ethernet_pkt = 8000</div>
<div class="line">max_subcarriers = 6600</div>
<div class="line">max_data_symbols = 8</div>
<div class="line">max_ctrl_symbols = 16</div>
<div class="line">max_ul_ctrl_1kwords = 4</div>
<div class="line">max_dl_ctrl_1kwords = 4</div>
<div class="line">max_dl_data_1kwords = 8</div>
<div class="line">max_ssb_ctrl_512words = 1</div>
<div class="line">max_ssb_data_512words = 2</div>
<div class="line">timer_clk_ps = 5000</div>
<div class="line">num_unsolicited_ports = 1</div>
<div class="line">du_id_limit = 4</div>
<div class="line">bs_id_limit = 6</div>
<div class="line">cc_id_limit = 3</div>
<div class="line">ru_id_limit = 8</div>
<div class="line">ss_id_limit = 5</div>
</div><!-- fragment --><ul>
<li>Many of the commands map directly on to the libxorif library API calls. Others, such as "help" and "quit" are handled locally.</li>
<li>The xorif-app commands also allow the user to read/write device registers, and even to peek/poke memory directly.</li>
</ul>
<h3>File Mode</h3>
<ul>
<li>This mode allows basic configuration and interaction with the system using a text file.</li>
<li>Usage:<ul>
<li>Ensure that an instance of the xorif-app "server" is running on the target hardware, e.g. <code>xorif-app -s</code></li>
<li>Start an instance of the xorif-app "client", specifying the IP address of the "server" and the command e.g. <code>xorif-app -n 192.168.0.55 -f config1.txt</code></li>
</ul>
</li>
<li>File format:<ul>
<li>A plain text file</li>
<li>A maximum of one command per line</li>
<li>Line breaks in the middle of commands are not permitted</li>
<li>Blank lines are skipped</li>
<li>Hash characters ("#") can be used to provide comment lines in the file</li>
<li>Command syntax is the same as described above</li>
</ul>
</li>
<li>Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Initialize library</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Check versions</span></div>
<div class="line"><span class="preprocessor"></span><span class="keyword">get</span> sw_version</div>
<div class="line"><span class="keyword">get</span> fhi_hw_version</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Configure CC[0] num_rbs=275, numerology=1</span></div>
<div class="line"><span class="preprocessor"></span>set num_rbs 0 275</div>
<div class="line">set numerology 0 1 0</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">set dl_iq_compression 0 9 1 1</div>
<div class="line">set ul_iq_compression 0 9 1 1</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Configure CC[1] num_rbs=100, numerology=0</span></div>
<div class="line"><span class="preprocessor"></span>set num_rbs 1 100</div>
<div class="line">set numerology 1 0 0</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">set dl_iq_compression 1 9 1 1</div>
<div class="line">set ul_iq_compression 1 9 1 1</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
</div><!-- fragment --><ul>
<li>Example file (output):</li>
</ul>
<div class="fragment"><div class="line">init =&gt; status = 0</div>
<div class="line">reset =&gt; status = 0</div>
<div class="line"><span class="keyword">get</span> sw_version =&gt; status = 0</div>
<div class="line">fhi_version = 0x01010002</div>
<div class="line"><span class="keyword">get</span> fhi_hw_version =&gt; status = 0</div>
<div class="line">result = 0x01010002</div>
<div class="line">set num_rbs 0 275 =&gt; status = 0</div>
<div class="line">set numerology 0 1 0 =&gt; status = 0</div>
<div class="line">set time_advance 0 30 90 90 =&gt; status = 0</div>
<div class="line">set dl_iq_compression 0 9 1 1 =&gt; status = 0</div>
<div class="line">set ul_iq_compression 0 9 1 1 =&gt; status = 0</div>
<div class="line">configure 0 =&gt; status = 0</div>
<div class="line">enable 0 =&gt; status = 0</div>
<div class="line">set num_rbs 1 100 =&gt; status = 0</div>
<div class="line">set numerology 1 0 0 =&gt; status = 0</div>
<div class="line">set time_advance 1 30 90 90 =&gt; status = 0</div>
<div class="line">set dl_iq_compression 1 9 1 1 =&gt; status = 0</div>
<div class="line">set ul_iq_compression 1 9 1 1 =&gt; status = 0</div>
<div class="line">configure 1 =&gt; status = 0</div>
<div class="line">enable 1 =&gt; status = 0</div>
</div><!-- fragment --><h3>File Mode Simple Starter and PG370 examples</h3>
<ul>
<li>Simple uncompressed data example (input):<ul>
<li>This is a good config to get started with:</li>
<li>Limit to one Component Carrier, 1 Spatial Stream and a limited number of RB'S.</li>
<li>Compared to the detail in the PG370, using the API removes the need to manually program these registers.</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 0 0</div>
<div class="line">set num_rbs 0 20</div>
<div class="line">set ul_iq_compression 0 0 0</div>
<div class="line">set dl_iq_compression 0 0 0</div>
<div class="line">set time_advance 0 160 100 100</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
</div><!-- fragment --><ul>
<li>PG370 "Configuring the Core" Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 1 0</div>
<div class="line">set num_rbs 0 275</div>
<div class="line">set ul_iq_compression 0 9 1</div>
<div class="line">set dl_iq_compression 0 9 1</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 1</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 1 1 0</div>
<div class="line">set num_rbs 1 275</div>
<div class="line">set ul_iq_compression 1 9 1</div>
<div class="line">set dl_iq_compression 1 9 1</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
</div><!-- fragment --><ul>
<li>PG370 "Reconfiguring the Core" Example file (input):</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor"># Set initial state</span></div>
<div class="line"><span class="preprocessor"></span>init</div>
<div class="line">reset</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 0</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 0 0 0</div>
<div class="line">set num_rbs 0 275</div>
<div class="line">set ul_iq_compression 0 9 1 1</div>
<div class="line">set dl_iq_compression 0 9 1 1</div>
<div class="line">set time_advance 0 30 90 90</div>
<div class="line">configure 0</div>
<div class="line">enable 0</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Component carrier 1</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 1 1 0</div>
<div class="line">set num_rbs 1 137</div>
<div class="line">set ul_iq_compression 1 9 1 1</div>
<div class="line">set dl_iq_compression 1 9 1 1</div>
<div class="line">set time_advance 1 30 90 90</div>
<div class="line">configure 1</div>
<div class="line">enable 1</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">## Component carrier 2</span></div>
<div class="line"><span class="preprocessor"></span>set numerology 2 1 0</div>
<div class="line">set num_rbs 2 137</div>
<div class="line">set ul_iq_compression 2 9 1 1</div>
<div class="line">set dl_iq_compression 2 9 1 1</div>
<div class="line">set time_advance 2 30 90 90</div>
<div class="line">configure 2</div>
<div class="line">enable 2</div>
</div><!-- fragment --><h3>Debug Mode</h3>
<ul>
<li>The "debug" command can be used to enable library's "trace" feature<ul>
<li>Level 0: No trace, but errors are still reported</li>
<li>Level 1: The trace feature shows main API calls and register read/writes</li>
<li>Level 2: The trace feature shows debug extra information in addition to the main API calls and register read/writes</li>
</ul>
</li>
<li>This can be a very useful feature for debugging or checking the component carrier configurations. For example...</li>
</ul>
<div class="fragment"><div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif-api.html#ga4a3da356c6483228f09c42c2f5e2136e">xorif_set_cc_numerology</a>(0, 0, 0)</div>
<div class="line">set numerology 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif-api.html#gac5bb9cbc4aae17d9db299f7a7595efa0">xorif_set_cc_num_rbs</a>(0, 20)</div>
<div class="line">set num_rbs 0 20 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_ul_iq_compression(0, 0, 0, 1)</div>
<div class="line">set ul_iq_compression 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; xorif_set_cc_dl_iq_compression(0, 0, 0, 1)</div>
<div class="line">set dl_iq_compression 0 0 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif-api.html#ga9a94902547afdfa15e3da94ce510e670">xorif_set_cc_time_advance</a>(0, 160, 100, 100)</div>
<div class="line">set time_advance 0 160 100 100 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif-api.html#ga60d073a6ce61f808a5489f61a721a41b">xorif_configure_cc</a>(0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga6239c4fca76e1597fce699a2760abc9e">READ_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga6239c4fca76e1597fce699a2760abc9e">READ_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; DEBUG: Configuration valid</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga6239c4fca76e1597fce699a2760abc9e">READ_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_NUMRBS (0xE100)[0:8] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_NUMEROLOGY (0xE100)[16:18] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SYMPERSLOT (0xE100)[24:24] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_NUMRBS (0xE900)[0:8] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_NUMEROLOGY (0xE900)[16:18] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_SYMPERSLOT (0xE900)[24:24] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_SYM_NUM_INDEX (0xE114)[8:13] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_SYM_START_INDEX (0xE114)[0:5] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_CTRL_SYM_NUM_INDEX (0xE114)[16:21] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_CTRL_SYM_NUM_INDEX (0xE114)[24:29] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_NUM_DATA_SYM_PER_CC (0xE914)[8:13] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_DATA_SYM_START_INDEX (0xE914)[0:5] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_NUM_SYM_PER_CC (0xE914)[16:21] &lt;= 0x4 (4)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_UD_IQ_WIDTH (0xE11C)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_UD_COMP_METH (0xE11C)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_MPLANE_UDCOMP_PARAM (0xE11C)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_UD_IQ_WIDTH (0xE118)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_UD_COMP_METH (0xE118)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_MPLANE_UDCOMP_PARAM (0xE118)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_UD_IQ_WIDTH (0xE91C)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_UD_COMP_METH (0xE91C)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_MPLANE_UDCOMP_PARAM (0xE91C)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_PRACH_UD_IQ_WIDTH (0xE920)[0:3] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_PRACH_UD_COMP_METH (0xE920)[4:7] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_PRACH_MPLANE_UDCOMP_PARAM (0xE920)[8:8] &lt;= 0x1 (1)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_NUM_CTRL_PER_SYMBOL_DL (0xE160)[0:15] &lt;= 0x40 (64)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_CTRL_OFFSETS (0xE104)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_NUM_CTRL_PER_SYMBOL_UL (0xE164)[0:15] &lt;= 0x40 (64)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_CTRL_OFFSETS (0xE10C)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_BASE_OFFSET (0xE140)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_NUMSSBCTRLSECT_X_SYM_X_CC (0xE960)[0:15] &lt;= 0x5 (5)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_CTRL_OFFSETS (0xE904)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE500)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE504)[0:15] &lt;= 0xAD (173)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE508)[0:15] &lt;= 0x15A (346)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_DATA_UNROLL_OFFSET (0xE50C)[0:15] &lt;= 0x207 (519)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED00)[0:15] &lt;= 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED04)[0:15] &lt;= 0x7F (127)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED08)[0:15] &lt;= 0xFE (254)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_DATA_UNROLL_OFFSET (0xED0C)[0:15] &lt;= 0x17D (381)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_MODVALS_DL (0xE168)[0:15] &lt;= 0x100 (256)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_MODVALS_UL (0xE16C)[0:15] &lt;= 0x100 (256)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_SECTS_X_SYMBOLS (0xE968)[0:15] &lt;= 0x14 (20)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_SETUP_D_CYCLES (0xE138)[0:16] &lt;= 0x33E5 (13285)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_SETUP_C_CYCLES (0xE134)[0:16] &lt;= 0x1D92 (7570)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_DL_SETUP_C_ABS_SYMBOL (0xE130)[0:11] &lt;= 0x2 (2)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_SETUP_D_CYCLES (0xE128)[0:16] &lt;= 0x37CD (14285)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_SETUP_C_CYCLES (0xE124)[0:16] &lt;= 0xA0A (2570)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_SETUP_C_ABS_SYMBOL (0xE120)[0:11] &lt;= 0x3 (3)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_SETUP_D_CYCLES (0xE938)[0:16] &lt;= 0x33E5 (13285)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_SETUP_C_CYCLES (0xE934)[0:16] &lt;= 0x1D92 (7570)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_SSB_SETUP_C_ABS_SYMBOL (0xE930)[0:11] &lt;= 0x2 (2)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_BIDF_C_CYCLES (0xE148)[0:16] &lt;= 0x11DA (4570)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_UL_BIDF_C_ABS_SYMBOL (0xE144)[0:11] &lt;= 0x3 (3)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_RELOAD (0xE000)[0:7] &lt;= 0x1 (1)</div>
<div class="line">configure 0 =&gt; status = 0</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif-api.html#ga7b3839531a2c838f6d1a0185d39efdb6">xorif_enable_cc</a>(0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga6239c4fca76e1597fce699a2760abc9e">READ_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] =&gt; 0x0 (0)</div>
<div class="line">LIBXORIF&gt; <a class="code" href="group__libxorif.html#ga099755a09b4768126feb50a21fb76ad1">WRITE_REG</a>: ORAN_CC_ENABLE (0xE004)[0:7] &lt;= 0x1 (1)</div>
<div class="line">enable 0 =&gt; status = 0</div>
</div><!-- fragment --> <hr/>
<p>Copyright (C) 2019 - 2021 Xilinx, Inc. All rights reserved. </p>
</div></div><!-- contents -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2020 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
